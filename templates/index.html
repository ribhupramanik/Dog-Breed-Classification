<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Dog Breed Identifier</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <script>
    function validateFile() {
      const input = document.getElementById("fileInput");
      const file = input.files[0];

      if (!file) return true; // No file selected yet

      const fileName = file.name.toLowerCase();
      const validExtensions = [".png", ".jpg", ".jpeg"];

      const isValid = validExtensions.some(ext => fileName.endsWith(ext));

      if (!isValid) {
        alert("Only JPG and JPEG files are allowed!");
        input.value = ""; // Clear invalid file
        return false;
      }

      return true;
    }
  </script>

</head>

<body class="bg-light">

  <div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card shadow-lg p-4" style="width: 420px;">

      <h2 class="text-center mb-4">üê∂ Dog Breed Identifier</h2>

      {% if error %}
        <div class="alert alert-danger" role="alert">
          {{ error }}
        </div>
      {% endif %}

      <form method="post" action="{{ url_for('predict') }}" enctype="multipart/form-data" onsubmit="return validateFile();">

        <div class="mb-3">
          <label class="form-label">Upload an Image</label>
          <input class="form-control" type="file" id="fileInput" name="file" accept=".jpg, .jpeg" required onchange="validateFile();">
        </div>

        <button type="submit" class="btn btn-primary w-100 mt-3">Upload & Predict</button>
      </form>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
